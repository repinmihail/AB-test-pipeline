# AB-test-pipeline
Try to accumulate all steps for create full AB-test pipeline

Notion:
Дисперсию ratio-метрики на историческом периоде оцениваем дельта-методом. Остается открытым вопрос в возможности использования дельта-метода и стратификации.

TODO local
1. Поля таблицы на вход предполагается именовать по типу user_id: int|date: str (YYYY-mm-dd)|feature1|feature2|feature3
2. В словарь параметров добавятся параметры после разработки Splitter'а с конфликтующими экспериментами
3. Доработать функцию стратификации так, чтобы деление было на не равные группы или вынести это в другую функцию
4. Сделать расчет матриц для неравных групп
5. Проверка того, что сформировались верно стратифицированные группы
6. Сделать реализацию AA теста на этапе дизайна для проверки корректности выбранного критерия -- done
7. Считать дельту средних в абсолютном выражении между тестом и контролем
8. Стратификация cuped метрики на оценке теста (оптимизация функции)
9. Функция теста с возомжностью поправки Холма на множественное тестирование
10. Работа с выбросами - ковариация для массивов разного размера
11. Функция проверки корреляции переменной на истории и на пилоте
12. Перед применением CUPED выводить коэффициент корреляции между историей и тестом

TODO global
1. Splitter - при отборе пользователей в тест необходимо учитывать конфликты экспериментов
2. Добавить эффект на тестовой группе -- done
3. В изначальном датафрейме должны содержаться данные предпилотного периода (в поле period: history, prepilot). На этапе эксперимента добавляется значение pilot -- done
4. После анализа для эксперимента исторические данные можно отцеплять от основного датафрейма -- done
5. Реализовать CUPED - вычитаем из теста и из контроля. -- done
6. Оценить отличия теста и контроля на пилоте -- done
7. Страты выносим в отдельный датафрейм -- done